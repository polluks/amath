\hypertarget{nextafter_8c}{}\section{lib/real/nextafter.c File Reference}
\label{nextafter_8c}\index{lib/real/nextafter.\+c@{lib/real/nextafter.\+c}}
{\ttfamily \#include \char`\"{}fdlibm.\+h\char`\"{}}\\*
Include dependency graph for nextafter.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=175pt]{de/df6/nextafter_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{nextafter_8c_abed1b7ee913471448c2dbe58dff28db3}{nextafter} (double x, double y)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{nextafter.\+c@{nextafter.\+c}!nextafter@{nextafter}}
\index{nextafter@{nextafter}!nextafter.\+c@{nextafter.\+c}}
\subsubsection[{\texorpdfstring{nextafter(double x, double y)}{nextafter(double x, double y)}}]{\setlength{\rightskip}{0pt plus 5cm}double nextafter (
\begin{DoxyParamCaption}
\item[{double}]{x, }
\item[{double}]{y}
\end{DoxyParamCaption}
)}\hypertarget{nextafter_8c_abed1b7ee913471448c2dbe58dff28db3}{}\label{nextafter_8c_abed1b7ee913471448c2dbe58dff28db3}


Definition at line 57 of file nextafter.\+c.


\begin{DoxyCode}
60 \{
61     \textcolor{keywordtype}{int} hx,hy,ix,iy;
62     \textcolor{keywordtype}{unsigned} lx,ly;
63 
64     hx = \_\_HI(x);       \textcolor{comment}{/* high word of x */}
65     lx = \_\_LO(x);       \textcolor{comment}{/* low  word of x */}
66     hy = \_\_HI(y);       \textcolor{comment}{/* high word of y */}
67     ly = \_\_LO(y);       \textcolor{comment}{/* low  word of y */}
68     ix = hx&0x7fffffff;     \textcolor{comment}{/* |x| */}
69     iy = hy&0x7fffffff;     \textcolor{comment}{/* |y| */}
70 
71     \textcolor{keywordflow}{if}(((ix>=0x7ff00000)&&((ix-0x7ff00000)|lx)!=0) ||   \textcolor{comment}{/* x is nan */}
72             ((iy>=0x7ff00000)&&((iy-0x7ff00000)|ly)!=0))     \textcolor{comment}{/* y is nan */}
73         \textcolor{keywordflow}{return} x+y;
74     \textcolor{keywordflow}{if}(x==y) \textcolor{keywordflow}{return} x;      \textcolor{comment}{/* x=y, return x */}
75     \textcolor{keywordflow}{if}((ix|lx)==0) \{            \textcolor{comment}{/* x == 0 */}
76         \_\_HI(x) = hy&0x80000000;    \textcolor{comment}{/* return +-minsubnormal */}
77         \_\_LO(x) = 1;
78         y = x*x;
79         \textcolor{keywordflow}{if}(y==x) \textcolor{keywordflow}{return} y;
80         \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} x;  \textcolor{comment}{/* raise underflow flag */}
81     \}
82     \textcolor{keywordflow}{if}(hx>=0) \{             \textcolor{comment}{/* x > 0 */}
83         \textcolor{keywordflow}{if}(hx>hy||((hx==hy)&&(lx>ly))) \{    \textcolor{comment}{/* x > y, x -= ulp */}
84             \textcolor{keywordflow}{if}(lx==0) hx -= 1;
85             lx -= 1;
86         \} \textcolor{keywordflow}{else} \{                \textcolor{comment}{/* x < y, x += ulp */}
87             lx += 1;
88             \textcolor{keywordflow}{if}(lx==0) hx += 1;
89         \}
90     \} \textcolor{keywordflow}{else} \{                \textcolor{comment}{/* x < 0 */}
91         \textcolor{keywordflow}{if}(hy>=0||hx>hy||((hx==hy)&&(lx>ly))) \{ \textcolor{comment}{/* x < y, x -= ulp */}
92             \textcolor{keywordflow}{if}(lx==0) hx -= 1;
93             lx -= 1;
94         \} \textcolor{keywordflow}{else} \{                \textcolor{comment}{/* x > y, x += ulp */}
95             lx += 1;
96             \textcolor{keywordflow}{if}(lx==0) hx += 1;
97         \}
98     \}
99     hy = hx&0x7ff00000;
100     \textcolor{keywordflow}{if}(hy>=0x7ff00000) \textcolor{keywordflow}{return} x+x;  \textcolor{comment}{/* overflow  */}
101     \textcolor{keywordflow}{if}(hy<0x00100000) \{     \textcolor{comment}{/* underflow */}
102         y = x*x;
103         \textcolor{keywordflow}{if}(y!=x) \{      \textcolor{comment}{/* raise underflow flag */}
104             \_\_HI(y) = hx;
105             \_\_LO(y) = lx;
106             \textcolor{keywordflow}{return} y;
107         \}
108     \}
109     \_\_HI(x) = hx;
110     \_\_LO(x) = lx;
111     \textcolor{keywordflow}{return} x;
112 \}
\end{DoxyCode}
