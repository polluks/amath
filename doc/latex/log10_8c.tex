\hypertarget{log10_8c}{}\section{lib/real/log10.c File Reference}
\label{log10_8c}\index{lib/real/log10.\+c@{lib/real/log10.\+c}}
{\ttfamily \#include \char`\"{}prim.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}math.\+h\char`\"{}}\\*
Include dependency graph for log10.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=190pt]{log10_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{log10_8c_a6572e82a4891917a9ba7fb2a964f8182}{log10} (double x)
\begin{DoxyCompactList}\small\item\em Base 10 logarithm function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const double \hyperlink{log10_8c_a38da01c416294eaf7ebdae8ba3afe2e0}{two54} = 1.\+80143985094819840000e+16
\item 
static const double \hyperlink{log10_8c_a9e0d02b329f006c4998b2227ab12536f}{ivln10} = 4.\+34294481903251816668e-\/01
\item 
static const double \hyperlink{log10_8c_aae29d5b8624c0ccbc7e1ed4165b8f050}{log10\+\_\+2hi} = 3.\+01029995663611771306e-\/01
\item 
static const double \hyperlink{log10_8c_a3d0a247317a150af2b92315571801f57}{log10\+\_\+2lo} = 3.\+69423907715893078616e-\/13
\item 
static double \hyperlink{log10_8c_a548c77babcdf18ce7b6b96e73fb912cd}{zero} = 0.\+0
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{log10.\+c@{log10.\+c}!log10@{log10}}
\index{log10@{log10}!log10.\+c@{log10.\+c}}
\subsubsection[{\texorpdfstring{log10(double x)}{log10(double x)}}]{\setlength{\rightskip}{0pt plus 5cm}double log10 (
\begin{DoxyParamCaption}
\item[{double}]{x}
\end{DoxyParamCaption}
)}\hypertarget{log10_8c_a6572e82a4891917a9ba7fb2a964f8182}{}\label{log10_8c_a6572e82a4891917a9ba7fb2a964f8182}


Base 10 logarithm function. 

\begin{DoxyVersion}{Version}
1.\+3 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
95/01/18
\end{DoxyDate}

\begin{DoxyPre}
Method :
 Let log10\_2hi = leading 40 bits of log10(2) and
     log10\_2lo = log10(2) - log10\_2hi,
     ivln10   = 1/log(10) rounded.
 Then
    n = ilogb(x),
    if(n<0)  n = n+1;
    x = scalbn(x,-n);
    log10(x) := n*log10\_2hi + (n*log10\_2lo + ivln10*log(x))\end{DoxyPre}



\begin{DoxyPre}Note 1:
 To guarantee log10(10**n)=n, where 10**n is normal, the rounding
 mode must set to Round-to-Nearest.
Note 2:
 [1/log(10)] rounded to 53 bits has error  .198   ulps;
 log10 is monotonic at all binary break points.\end{DoxyPre}



\begin{DoxyPre}Special cases:
 log10(x) is NaN with signal if x < 0;
 log10(+INF) is +INF with no signal; log10(0) is -INF with signal;
 log10(NaN) is that NaN with no signal;
 log10(10**N) = N  for N=0,1,...,22.\end{DoxyPre}



\begin{DoxyPre}Constants:
The hexadecimal values are the intended ones for the following constants.
The decimal values may be used, provided that the compiler will convert
from decimal to binary accurately enough to produce the hexadecimal values
shown.
\end{DoxyPre}
 \begin{DoxyCopyright}{Copyright}
Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.  Developed at Sun\+Soft, a Sun Microsystems, Inc. business. Permission to use, copy, modify, and distribute this software is freely granted, provided that this notice is preserved. 
\end{DoxyCopyright}


Definition at line 95 of file log10.\+c.



References ivln10, log10\+\_\+2hi, log10\+\_\+2lo, two54, and zero.



Referenced by Decimal\+System\+::\+Get\+Real\+Text(), and Real\+Number\+::\+Log10().


\begin{DoxyCode}
96 \{
97     \textcolor{keywordtype}{double} y,z;
98     \hyperlink{real_2prim_8h_ae91287c8a5f73a8a22a100f50dc4de77}{sword} i,k,hx;
99     \hyperlink{real_2prim_8h_a6e60fe0e0f9f8801507e15fe2d893751}{uword} lx;
100 
101     \hyperlink{real_2prim_8h_a6dadc713499e14ba3088a55409a18983}{EXTRACT\_WORDS}(hx,lx,x);
102 
103     k=0;
104     \textcolor{keywordflow}{if} (hx < 0x00100000) \{                  \textcolor{comment}{/* x < 2**-1022  */}
105         \textcolor{keywordflow}{if} (((hx&0x7fffffff)|lx)==0)
106             \textcolor{keywordflow}{return} -\hyperlink{log10_8c_a38da01c416294eaf7ebdae8ba3afe2e0}{two54}/\hyperlink{log10_8c_a548c77babcdf18ce7b6b96e73fb912cd}{zero};             \textcolor{comment}{/* log(+-0)=-inf */}
107         \textcolor{keywordflow}{if} (hx<0) \textcolor{keywordflow}{return} (x-x)/\hyperlink{log10_8c_a548c77babcdf18ce7b6b96e73fb912cd}{zero};        \textcolor{comment}{/* log(-#) = NaN */}
108         k -= 54;
109         x *= \hyperlink{log10_8c_a38da01c416294eaf7ebdae8ba3afe2e0}{two54}; \textcolor{comment}{/* subnormal number, scale up x */}
110         \hyperlink{real_2prim_8h_ae62ee08d06ab4cc06d61dc1246b73195}{GET\_HIGH\_WORD}(hx, x);              \textcolor{comment}{/* high word of x */}
111     \}
112     \textcolor{keywordflow}{if} (hx >= 0x7ff00000) \textcolor{keywordflow}{return} x+x;
113     k += (hx>>20)-1023;
114     i  = ((\hyperlink{real_2prim_8h_a6e60fe0e0f9f8801507e15fe2d893751}{uword})k&0x80000000)>>31;
115     hx = (hx&0x000fffff)|((0x3ff-i)<<20);
116     y  = (double)(k+i);
117     \hyperlink{real_2prim_8h_a6ca54776127e20149f84c290bf52f89e}{SET\_HIGH\_WORD}(x,hx);
118     z  = y*\hyperlink{log10_8c_a3d0a247317a150af2b92315571801f57}{log10\_2lo} + \hyperlink{log10_8c_a9e0d02b329f006c4998b2227ab12536f}{ivln10}*\hyperlink{math_8h_adb302c9aafbaa5e180d9f60ee954bb82}{log}(x);
119     \textcolor{keywordflow}{return}  z+y*\hyperlink{log10_8c_aae29d5b8624c0ccbc7e1ed4165b8f050}{log10\_2hi};
120 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{log10_8c_a6572e82a4891917a9ba7fb2a964f8182_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\index{log10.\+c@{log10.\+c}!ivln10@{ivln10}}
\index{ivln10@{ivln10}!log10.\+c@{log10.\+c}}
\subsubsection[{\texorpdfstring{ivln10}{ivln10}}]{\setlength{\rightskip}{0pt plus 5cm}const double ivln10 = 4.\+34294481903251816668e-\/01\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{log10_8c_a9e0d02b329f006c4998b2227ab12536f}{}\label{log10_8c_a9e0d02b329f006c4998b2227ab12536f}


Definition at line 49 of file log10.\+c.



Referenced by log10().

\index{log10.\+c@{log10.\+c}!log10\+\_\+2hi@{log10\+\_\+2hi}}
\index{log10\+\_\+2hi@{log10\+\_\+2hi}!log10.\+c@{log10.\+c}}
\subsubsection[{\texorpdfstring{log10\+\_\+2hi}{log10_2hi}}]{\setlength{\rightskip}{0pt plus 5cm}const double log10\+\_\+2hi = 3.\+01029995663611771306e-\/01\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{log10_8c_aae29d5b8624c0ccbc7e1ed4165b8f050}{}\label{log10_8c_aae29d5b8624c0ccbc7e1ed4165b8f050}


Definition at line 50 of file log10.\+c.



Referenced by log10().

\index{log10.\+c@{log10.\+c}!log10\+\_\+2lo@{log10\+\_\+2lo}}
\index{log10\+\_\+2lo@{log10\+\_\+2lo}!log10.\+c@{log10.\+c}}
\subsubsection[{\texorpdfstring{log10\+\_\+2lo}{log10_2lo}}]{\setlength{\rightskip}{0pt plus 5cm}const double log10\+\_\+2lo = 3.\+69423907715893078616e-\/13\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{log10_8c_a3d0a247317a150af2b92315571801f57}{}\label{log10_8c_a3d0a247317a150af2b92315571801f57}


Definition at line 51 of file log10.\+c.



Referenced by log10().

\index{log10.\+c@{log10.\+c}!two54@{two54}}
\index{two54@{two54}!log10.\+c@{log10.\+c}}
\subsubsection[{\texorpdfstring{two54}{two54}}]{\setlength{\rightskip}{0pt plus 5cm}const double two54 = 1.\+80143985094819840000e+16\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{log10_8c_a38da01c416294eaf7ebdae8ba3afe2e0}{}\label{log10_8c_a38da01c416294eaf7ebdae8ba3afe2e0}


Definition at line 48 of file log10.\+c.



Referenced by log10().

\index{log10.\+c@{log10.\+c}!zero@{zero}}
\index{zero@{zero}!log10.\+c@{log10.\+c}}
\subsubsection[{\texorpdfstring{zero}{zero}}]{\setlength{\rightskip}{0pt plus 5cm}double zero = 0.\+0\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{log10_8c_a548c77babcdf18ce7b6b96e73fb912cd}{}\label{log10_8c_a548c77babcdf18ce7b6b96e73fb912cd}


Definition at line 53 of file log10.\+c.



Referenced by log10().

