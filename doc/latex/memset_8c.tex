\hypertarget{memset_8c}{}\section{lib/clib/memset.c File Reference}
\label{memset_8c}\index{lib/clib/memset.\+c@{lib/clib/memset.\+c}}
{\ttfamily \#include \char`\"{}clib.\+h\char`\"{}}\\*
Include dependency graph for memset.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=175pt]{memset_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{memset_8c_af4f643cf8cb70d62cf70100fbabdf2a5}{Mem\+Set} (void $\ast$dst0, int c0, unsigned int length)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{memset.\+c@{memset.\+c}!Mem\+Set@{Mem\+Set}}
\index{Mem\+Set@{Mem\+Set}!memset.\+c@{memset.\+c}}
\subsubsection[{\texorpdfstring{Mem\+Set(void $\ast$dst0, int c0, unsigned int length)}{MemSet(void *dst0, int c0, unsigned int length)}}]{\setlength{\rightskip}{0pt plus 5cm}void Mem\+Set (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{dst0, }
\item[{int}]{c0, }
\item[{unsigned int}]{length}
\end{DoxyParamCaption}
)}\hypertarget{memset_8c_af4f643cf8cb70d62cf70100fbabdf2a5}{}\label{memset_8c_af4f643cf8cb70d62cf70100fbabdf2a5}


Definition at line 42 of file memset.\+c.


\begin{DoxyCode}
43 \{
44     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *dst = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*) dst0;
45     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}  t;
46     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}  c;
47 
48     \textcolor{comment}{/*}
49 \textcolor{comment}{     * If not enough words, just fill bytes.  A length >= 2 words}
50 \textcolor{comment}{     * guarantees that at least one of them is `complete' after}
51 \textcolor{comment}{     * any necessary alignment.  For instance:}
52 \textcolor{comment}{     *}
53 \textcolor{comment}{     *  |-----------|-----------|-----------|}
54 \textcolor{comment}{     *  |00|01|02|03|04|05|06|07|08|09|0A|00|}
55 \textcolor{comment}{     *            ^---------------------^}
56 \textcolor{comment}{     *       dst         dst+length-1}
57 \textcolor{comment}{     *}
58 \textcolor{comment}{     * but we use a minimum of 3 here since the overhead of the code}
59 \textcolor{comment}{     * to do word writes is substantial.}
60 \textcolor{comment}{     */}
61     \textcolor{keywordflow}{if} (length < 3 * \hyperlink{platform_8h_a01c6b59ca21f041b23efbb9845cc4e32}{wsize}) \{
62         \textcolor{keywordflow}{while} (length != 0) \{
63             *dst++ = c0;
64             --length;
65         \}
66     \}
67 
68     \textcolor{keywordflow}{if} ((c = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})c0) != 0) \{ \textcolor{comment}{/* Fill the word. */}
69         c = (c << 8) | c;   \textcolor{comment}{/* u\_int is 16 bits. */}
70 \textcolor{preprocessor}{#if UINT\_MAX > 0xffff}
71         c = (c << 16) | c;  \textcolor{comment}{/* u\_int is 32 bits. */}
72 \textcolor{preprocessor}{#endif}
73 \textcolor{preprocessor}{#if UINT\_MAX > 0xffffffff}
74         c = (c << 32) | c;  \textcolor{comment}{/* u\_int is 64 bits. */}
75 \textcolor{preprocessor}{#endif}
76     \}
77 
78     \textcolor{comment}{/* Align destination by filling in bytes. */}
79     \textcolor{keywordflow}{if} ((t = (\textcolor{keywordtype}{long})dst & \hyperlink{platform_8h_ab5deaef115ff5ca6ef1457d923d8331a}{wmask}) != 0) \{
80         t = \hyperlink{platform_8h_a01c6b59ca21f041b23efbb9845cc4e32}{wsize} - t;
81         length -= t;
82         \textcolor{keywordflow}{do} \{
83             *dst++ = c0;
84         \} \textcolor{keywordflow}{while} (--t != 0);
85     \}
86 
87     \textcolor{comment}{/* Fill words.  Length was >= 2*words so we know t >= 1 here. */}
88     t = length / \hyperlink{platform_8h_a01c6b59ca21f041b23efbb9845cc4e32}{wsize};
89     \textcolor{keywordflow}{do} \{
90         *(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}*)dst = c;
91         dst += \hyperlink{platform_8h_a01c6b59ca21f041b23efbb9845cc4e32}{wsize};
92     \} \textcolor{keywordflow}{while} (--t != 0);
93 
94     \textcolor{comment}{/* Mop up trailing bytes, if any. */}
95     t = length & \hyperlink{platform_8h_ab5deaef115ff5ca6ef1457d923d8331a}{wmask};
96     \textcolor{keywordflow}{if} (t != 0)
97         \textcolor{keywordflow}{do} \{
98             *dst++ = c0;
99         \} \textcolor{keywordflow}{while} (--t != 0);
100 \}
\end{DoxyCode}
